<!DOCTYPE html>
<html lang="en">
<head>
<title>
Anmol's Interest Calculator
</title>
</head>

<body>

<h1>Force of Interest</h1>
<p>AV<sub>t</sub>=PV<sub>0</sub>e<sup>rt</sup></p>
<p>Accumulated value is: <input type="number" name="av" step="0.0001"></p>
<p>Present value is: <input type="number" name="pv" step="0.0001"></p>
<p>Force of interest is: <input type="number" name="r" step="0.0001"></p>
<p>Time is: <input type="number" name="t" step="0.0001"></p>
<p><button onclick="forceOfInterest()">Calculate!</button></p>
<p><var id="finalVariable"></var></p>

</body>

<script>

function scrapeData(name, isButton){ 
	// name is a string by which to find element, isButton is boolean for radio button
	var scrapedData = document.getElementsByName(name);
	
	if (isButton){
		for (i=0; i < scrapedData.length; i++){
			if (scrapedData[i].checked){
				return scrapedData[i].value;
			}
		}
	}
	
	else {
		return scrapedData[0].value;
	}
}

function elementCount(arr, element){
	return arr.filter((currentElement)=> currentElement == element).length;
}

function forceOfInterest(){

	av = scrapeData("av", false);
	pv = scrapeData("pv", false);
	r = scrapeData("r", false);
	t = scrapeData("t", false);
	var checkArray = [av, pv, r, t];

	if (elementCount(checkArray, "") != 1) {
		document.getElementById("finalVariable").innerHTML = "Please leave exactly one variable blank.";
	} 
	else if (av == ""){
		var [pv, r, t] = [Number(pv), Number(r), Number(t)];
		document.getElementById("finalVariable").innerHTML = "The value of the blank variable is: " + pv*(Math.E**(r*t));
	}
	else if (pv == ""){
		var [av, r, t] = [Number(av), Number(r), Number(t)];
		document.getElementById("finalVariable").innerHTML = "The value of the blank variable is: " + av*(Math.E**(-1*r*t));
	}
	else if (r == ""){
		var [av, pv, t] = [Number(av), Number(pv), Number(t)];
		document.getElementById("finalVariable").innerHTML = "The value of the blank variable is: " + (1 / t)*(Math.log(av / pv));
	}
	else {
		var [av, pv, r] = [Number(av), Number(pv), Number(r)];
		document.getElementById("finalVariable").innerHTML = "The value of the blank variable is: " + (1 / r)*(Math.log(av / pv));
	}
	

}

</script>
</html>